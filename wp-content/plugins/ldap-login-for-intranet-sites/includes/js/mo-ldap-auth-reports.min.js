let current_username_order="asc",current_timestamp_order="asc",orderBy="time",current_page=1,total_pages=1,sql_data_length=0;function mo_ldap_display_log_table(e){var t=jQuery("#mo-ldap-local-user-report-table-div");if(t.empty(),0==(sql_data_length=Object.keys(e).length))t.append("<h2 style='color:red'> No records Found </h2>");else{log_html="<table id='mo-ldap-local-user-report-table' class='mo-ldap-local-user-report-table' style='width:100%'><thead><tr><th>Sr. No</th><th id='mo_ldap_log_table_username'>Username <i class='fa fa-sort'></i></th><th id='mo_ldap_log_table_timestamp'>Time <i class='fa fa-sort'></i></th><th>Status</th><th>Error</th></tr></thead><tbody>";let a=(current_page-1)*5;total_pages=Math.floor(sql_data_length/5+1);for(var r=a;r<Math.min(sql_data_length,a+5);r++)log_html=log_html+"<tr> <td> "+(r+1)+"</td> <td> "+e[r].user_name+"</td><td> "+e[r].time+"</td><td> "+e[r].ldap_status+"</td><td> "+e[r].ldap_error+"</td><tr>";t.append(paginationButtons()),t.append(log_html),t.append(paginationButtons()),displayParticularPage(e),sortLogs()}}function paginationButtons(){return'<div class="mo_ldap_local_logs_table_pagination_container"><button class="mo_ldap_local_logs_table_prev_page"><</button><div class="mo_ldap_local_logs_table_current_page">'+current_page+'</div><button class="mo_ldap_local_logs_table_next_page">></button><div class="mo_ldap_showing_result">Showing page '+current_page+" of "+total_pages+"</div></div>"}function displayParticularPage(e){jQuery(".mo_ldap_local_logs_table_next_page").click(function(){current_page<total_pages&&(current_page++,mo_ldap_display_log_table(e))}),jQuery(".mo_ldap_local_logs_table_prev_page").click(function(){current_page>1&&(current_page--,mo_ldap_display_log_table(e))})}function sortLogs(){document.getElementById("mo_ldap_log_table_username").addEventListener("click",function(e){(orderBy="user_name","asc"===current_username_order)?mo_ldap_display_log_table(sortObject(result_object,orderBy,current_username_order="desc")):mo_ldap_display_log_table(sortObject(result_object,orderBy,current_username_order="asc"))}),document.getElementById("mo_ldap_log_table_timestamp").addEventListener("click",function(e){(orderBy="time","asc"===current_timestamp_order)?mo_ldap_display_log_table(sortObject(result_object,orderBy,current_timestamp_order="desc")):mo_ldap_display_log_table(sortObject(result_object,orderBy,current_timestamp_order="asc"))})}function sortObject(e,t,a){for(var r=1,l=Object.entries(e),o=Object.entries(l[0][1]),s=1;s<o.length;s++)0==o[s][0].toLocaleLowerCase().localeCompare(t)&&(r=s);l.sort((e,t)=>{var l=Object.entries(e[1])[r][1].toLowerCase(),o=Object.entries(t[1])[r][1].toLowerCase();if("asc"==a){if(l<o)return -1;if(l>o)return 1}else if("desc"==a){if(l<o)return 1;if(l>o)return -1}return 0});var n=0;return l.forEach(e=>{e[0]=n++}),l.reduce((e,[t,a])=>(e[t]=a,e),{})}